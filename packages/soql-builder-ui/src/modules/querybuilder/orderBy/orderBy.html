<!--
  Copyright (c) 2020, salesforce.com, inc.
  All rights reserved.
  Licensed under the BSD 3-Clause license.
  For full license text, see LICENSE.txt file in the repo root or https://opensource.org/licenses/BSD-3-Clause

 -->

<template>
  <div class="section-container">
    <div class="section_label-container">
      <!-- TODO: i18n (maybe) -->
      <label
        >Order By
        <template if:true={hasError}
          ><span class="text-color-required" data-el-has-error
            >*</span
          ></template
        ></label
      >
    </div>
    <div class="section_selection-container">
      <select name="orderby-select" class="select-long" data-el-orderby-field>
        <option value="" data-el-default-option>{defaultOptionText}</option>
        <template for:each={orderByFields} for:item="field">
          <option key={field} value={field}>{field}</option>
        </template>
      </select>
      <div>
        <span class="group-orderby-order">
          <label for="orderby-order">Order: </label>
          <select id="orderby-order" name="orderby-order" data-el-orderby-order>
            <option value="" default>--</option>
            <!-- TODO: i18n (maybe) -->
            <option value="ASC">ASC</option>
            <option value="DESC">DESC</option>
          </select></span
        >
        <span class="group-orderby-nulls">
          <label for="orderby-nulls">Nulls: </label>
          <select id="orderby-nulls" name="orderby-nulls" data-el-orderby-nulls>
            <option value="" default>--</option>
            <!-- TODO: i18n (maybe) -->
            <option value="NULLS FIRST">FIRST</option>
            <option value="NULLS LAST">LAST</option>
          </select>
        </span>
        <button onclick={handleOrderBySelected} data-el-add-button>Add</button>
      </div>

      <div class="selected-orderby-container">
        <template for:each={selectedOrderByFields} for:item="field">
          <div class="selected-orderby" key={field.field}>
            {field.field} {field.order} {field.nulls}
            <span
              class="pointer delete-trigger"
              onclick={handleOrderByRemoved}
              data-field={field.field}
            >
              x
            </span>
          </div>
        </template>
      </div>
    </div>
  </div>
</template>
